<p>GcProgressBar コントロールにおけるテキストの設定と活用について解説します。</p><h2>書式の設定</h2><p>GcProgressBar コントロールに表示するテキストは、<a href="gcdocsite__documentlink?toc-item-id=75754ffc-426b-47df-9633-5f409104dd91" title="">DisplayTextFormat</a> プロパティを使って指定します。このプロパティに、キーワードとリテラル文字を設定することで容易にテキストの書式を作成できます。テキストのフォントは、Font プロパティを使用して設定します。コントロールにテキストを表示しない場合は、<a href="gcdocsite__documentlink?toc-item-id=75754ffc-426b-47df-9633-5f409104dd91" title="">DisplayTextFormat</a> プロパティを空にします。</p><p>テキストの書式は、「<strong>値のタイプ</strong>」と「<strong>値の書式</strong>」二つの部分から構成されます。設計時にテキストの書式を設定するには、プロパティウィンドウから　<a href="gcdocsite__documentlink?toc-item-id=75754ffc-426b-47df-9633-5f409104dd91" title="">DisplayTextFormat</a> プロパティを選択して、「テキストの表示設定」ダイアログを開いて行います。</p><p><img src="/DOCUMENT_SITE_LINK_PREFIX_HERE/document-site-files/images/06fadbb1-c461-433a-b385-ae4966e56069/images/gcprogressbar.textformatdialog.png" contenteditable="false"><br></p><p><a href="gcdocsite__documentlink?toc-item-id=75754ffc-426b-47df-9633-5f409104dd91" title="">DisplayTextFormat</a> プロパティのデフォルト値は"[p]%|#0"です。コードで設定するときは、下記のように定義します。</p><div data-language="csharp" class="toastui-editor-ww-code-block-highlighting"><pre class="language-csharp"><code data-language="csharp" class="language-csharp">gcProgressBar1.DisplayTextFormat = <span class="hljs-string">"値のタイプ|値の書式"</span>;</code></pre></div><div data-language="vbnet" class="toastui-editor-ww-code-block-highlighting"><pre class="language-vbnet"><code data-language="vbnet" class="language-vbnet">GcProgressBar1.DisplayTextFormat = "値のタイプ|値の書式"</code></pre></div><h4>「値のタイプ」に使用できるキーワード</h4><p>「値のタイプ」に指定できるキーワードは下記のとおりです。これらのキーワードのほかに、任意のリテラル文字と組み合わせて表示するテキストの書式を設定できます。</p><table><thead><tr><th><p>キーワード</p></th><th><p>説明</p></th></tr></thead><tbody><tr><td><p>[v]</p></td><td><p>コントロールの現在値（Value プロパティの値）</p></td></tr><tr><td><p>[p]</p></td><td><p>全体の進行範囲に対する完成の度合い（Value プロパティの値に基づいたパーセンテージ）</p></td></tr><tr><td><p>[s]</p></td><td><p>全体の進行範囲（Maximum - Minimum の値）</p></td></tr><tr><td><p>[m]</p></td><td><p>コントロールの最小値（Minimum プロパティ）</p></td></tr><tr><td><p>[M]</p></td><td><p>コントロールの最大値（Maximum プロパティ）</p></td></tr><tr><td><p>[^v]</p></td><td><p>タスク完了までの残り値（Maximum - Value の値）</p></td></tr><tr><td><p>[^p]</p></td><td><p>全体の進行範囲に対する未完成の度合い（完了までの残り値に基づいたパーセンテージ）</p></td></tr></tbody></table><h4>「値の書式」に使用できるキーワード</h4><p>「値の書式」では、「値のタイプ」で設定する値の書式を指定します。書式に指定できるキーワードは下記のとおりです。それ以外の文字は使用できません。</p><table><thead><tr><th><p>キーワード</p></th><th><p>説明</p></th></tr></thead><tbody><tr><td><p>#</p></td><td><p>数値の桁を指定します。値が0の場合は何も表示されません。</p></td></tr><tr><td><p>0</p></td><td><p>数値の桁を指定します。値が0の場合は0を表示します。</p></td></tr><tr><td><p>.（ピリオド）</p></td><td><p>小数点の表示位置を指定します。</p></td></tr><tr><td><p>,（コンマ）</p></td><td><p>桁区切り記号の表示位置を指定します。</p></td></tr></tbody></table><h4>キーワードの活用例</h4><p>以下に、<a href="gcdocsite__documentlink?toc-item-id=75754ffc-426b-47df-9633-5f409104dd91" title="">DisplayTextFormat</a> プロパティのキーワードを活用した、いくつかの用例を示します。</p><p><strong>用例１</strong></p><div data-language="csharp" class="toastui-editor-ww-code-block-highlighting"><pre class="language-csharp"><code data-language="csharp" class="language-csharp">gcProgressBar1.Minimum = <span class="hljs-number">0</span>;
gcProgressBar1.Maximum = <span class="hljs-number">1234</span>;
gcProgressBar1.Value = <span class="hljs-number">456</span>;
gcProgressBar1.DisplayTextFormat = <span class="hljs-string">"[s]件のうち[v]件のデータを更新しました|#0"</span>;</code></pre></div><div data-language="vbnet" class="toastui-editor-ww-code-block-highlighting"><pre class="language-vbnet"><code data-language="vbnet" class="language-vbnet">GcProgressBar1.Minimum = 0
GcProgressBar1.Maximum = 1234
GcProgressBar1.Value = 456
GcProgressBar1.DisplayTextFormat = "[s]件のうち[v]件のデータを更新しました|#0"</code></pre></div><p><img src="/DOCUMENT_SITE_LINK_PREFIX_HERE/document-site-files/images/06fadbb1-c461-433a-b385-ae4966e56069/images/gcprogressbar.usecase1.png" contenteditable="false"><br></p><p><strong>用例２</strong></p><div data-language="csharp" class="toastui-editor-ww-code-block-highlighting"><pre class="language-csharp"><code data-language="csharp" class="language-csharp">gcProgressBar1.FlatStyle = FlatStyle.Flat;
gcProgressBar1.Style = GrapeCity.Win.Bars.ProgressStyle.Continuous;
gcProgressBar1.Minimum = <span class="hljs-number">0</span>;
gcProgressBar1.Maximum = <span class="hljs-number">12</span>;
gcProgressBar1.Value = <span class="hljs-number">8.6</span>;
gcProgressBar1.DisplayTextFormat = <span class="hljs-string">"空き領域 [^v] GB/ [M] GB（[p]%使用済み）|#0.0"</span>;</code></pre></div><div data-language="vbnet" class="toastui-editor-ww-code-block-highlighting"><pre class="language-vbnet"><code data-language="vbnet" class="language-vbnet">GcProgressBar1.FlatStyle = FlatStyle.Flat
GcProgressBar1.Style = GrapeCity.Win.Bars.ProgressStyle.Continuous
GcProgressBar1.Minimum = 0
GcProgressBar1.Maximum = 12
GcProgressBar1.Value = 8.6
GcProgressBar1.DisplayTextFormat = "空き領域 [^v] GB/ [M] GB（[p]%使用済み）|#0.0"</code></pre></div><p><img src="/DOCUMENT_SITE_LINK_PREFIX_HERE/document-site-files/images/06fadbb1-c461-433a-b385-ae4966e56069/images/gcprogressbar.usecase2.png" contenteditable="false"><br></p><h2>テキストの配置</h2><p><a href="gcdocsite__documentlink?toc-item-id=782ef92a-b066-42ae-9788-ffad4b0490fd" title="">TextAlign</a> プロパティで、テキストの水平方向と垂直方向の配置を設定できます。それぞれの値に対応する位置は次のとおりです。</p><p><img src="/DOCUMENT_SITE_LINK_PREFIX_HERE/document-site-files/images/06fadbb1-c461-433a-b385-ae4966e56069/images/gcprogressbar.textalign.png" contenteditable="false"><br></p><p>次のサンプルコードは、テキストをコントロールの左中央に配置します。</p><div data-language="csharp" class="toastui-editor-ww-code-block-highlighting"><pre class="language-csharp"><code data-language="csharp" class="language-csharp"><span class="hljs-comment">// テキストを垂直方向の中央、左揃えに配置します。</span>
gcProgressBar1.TextAlign = ContentAlignment.MiddleLeft;</code></pre></div><div data-language="vbnet" class="toastui-editor-ww-code-block-highlighting"><pre class="language-vbnet"><code data-language="vbnet" class="language-vbnet">' テキストを垂直方向の中央、左揃えに配置します。
GcProgressBar1.TextAlign = ContentAlignment.MiddleLeft</code></pre></div><h2>テキストの向き</h2><p><a href="gcdocsite__documentlink?toc-item-id=64ca7f71-f3ed-4fd9-8510-4d881ba26fba" title="">TextOrientation</a> プロパティを使用して、テキストの向きを設定できます。文字の縦表示は、<a href="gcdocsite__documentlink?toc-item-id=64ca7f71-f3ed-4fd9-8510-4d881ba26fba" title="">TextOrientation</a> プロパティを <strong>Downward</strong> か、または <strong>Upward</strong> に設定します。漢字やひらがななどの日本語だけを縦に表示する場合は、<strong>VerticalFarEast</strong> や <strong>HorizontalRotatedFarEast</strong> を使用します。</p><p>次のサンプルコードは、コントロールを縦に表示し、日本語も縦方向に表示する方法を示します。</p><div data-language="csharp" class="toastui-editor-ww-code-block-highlighting"><pre class="language-csharp"><code data-language="csharp" class="language-csharp"><span class="hljs-comment">// 書式を設定します。</span>
gcProgressBar11.DisplayTextFormat = <span class="hljs-string">"[p]%完了しました|#0"</span>;
<span class="hljs-comment">// 縦方向に配置します。 </span>
gcProgressBar1.Orientation = Orientation.Vertical;
<span class="hljs-comment">// 日本語を縦方向に表示します。</span>
gcProgressBar1.TextOrientation = GrapeCity.Win.Common.TextOrientation.VerticalFarEast;</code></pre></div><div data-language="vbnet" class="toastui-editor-ww-code-block-highlighting"><pre class="language-vbnet"><code data-language="vbnet" class="language-vbnet">' 書式を設定します。
GcProgressBar1.DisplayTextFormat = "[p]%完了しました|#0"
' 縦方向に配置します。
GcProgressBar1.Orientation = Orientation.Vertical
' 日本語を縦方向に表示します。
GcProgressBar1.TextOrientation = GrapeCity.Win.Common.TextOrientation.VerticalFarEast</code></pre></div><p><img src="/DOCUMENT_SITE_LINK_PREFIX_HERE/document-site-files/images/06fadbb1-c461-433a-b385-ae4966e56069/images/gcprogressbar.textorientation.png" contenteditable="false"><br></p><h2>関連トピック</h2><p><a href="gcdocsite__documentlink?toc-item-id=d33d3278-ef9c-4ab3-906a-e06a035034f7" title="">GcProgressBarコントロール</a></p><p><a href="gcdocsite__documentlink?toc-item-id=d62a2f0c-bdf1-42c3-84f7-ebee10050cf1" title="">進行状況の設定</a></p><p><a href="gcdocsite__documentlink?toc-item-id=ef661071-c4ef-473f-81f5-085a30474652" title="">バーの外観変更</a></p><p><a href="gcdocsite__documentlink?toc-item-id=291ed72c-d142-4c90-837c-b4f2d43fd539" title="">バーの外観のカスタマイズ</a></p>